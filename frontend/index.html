<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>XYMZ Suite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- ================= FAVICON / TAB ICONS ================= -->
    <!-- Main favicon (modern browsers) -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="img/xymz-icon-32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="img/xymz-icon-16.png"
    />

    <!-- iOS / iPadOS home screen icon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="img/xymz-icon-180.png"
    />

    <!-- Classic .ico fallback (older browsers / Windows) -->
    <link rel="shortcut icon" href="img/favicon.ico" />

    <!-- Browser UI color (mobile address bar, etc.) -->
    <meta name="theme-color" content="#020617" />

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body class="theme-suite">
    <div class="app-shell">
      <!-- ================= TOPBAR ================= -->
      <header class="topbar">
        <div class="brand">
          <div class="logo-orb"></div>
          <div>
            <h1 id="brand-title">XYMZ</h1>
            <p id="brand-subtitle">Sign in to access XYMZ.Suite.</p>
          </div>
        </div>

        <div class="topbar-right">
          <div id="org-switcher" class="org-switcher hidden">
            <select id="org-select"></select>
            <button id="btn-new-org" class="btn secondary small">+ Org</button>
          </div>

          <div class="user-chip">
            <span id="user-name"></span>
            <span id="user-email"></span>
          </div>

          <button id="btn-logout" class="btn secondary small hidden">
            Log out
          </button>
        </div>
      </header>

      <main class="main-layout">
        <!-- ================= AUTH PANEL ================= -->
        <section id="auth-panel" class="auth-panel card">
          <div class="tabs">
            <button id="tab-login" class="tab active" type="button">Log in</button>
            <button id="tab-register" class="tab" type="button">Sign up</button>
          </div>

          <!-- LOGIN FORM -->
          <form id="login-form" class="auth-form">
            <!-- Email -->
            <label for="login-email">
              Email
              <input
                id="login-email"
                type="email"
                autocomplete="email"
                placeholder="you@example.com"
                required
              />
            </label>

            <!-- Password -->
            <label for="login-password">
              Password
              <input
                id="login-password"
                type="password"
                autocomplete="current-password"
                placeholder="Enter your password"
                required
              />
            </label>

            <!-- 6-digit org token (optional) -->
            <label for="login-org-token">
              Organization 6-digit token (optional)
              <input
                id="login-org-token"
                type="text"
                maxlength="6"
                inputmode="numeric"
                placeholder="e.g., 123456"
              />
            </label>

            <!-- Helper actions: forgot password / reset token -->
            <div class="auth-actions-row">
              <button
                type="button"
                id="link-reset-password"
                class="btn small secondary full-width"
              >
                Forgot password?
              </button>
              <button
                type="button"
                id="link-reset-token"
                class="btn small secondary full-width"
              >
                Reset 6-digit token
              </button>
            </div>

            <!-- Submit -->
            <button
              type="submit"
              class="btn primary full-width"
              style="margin-top: 10px;"
            >
              Log in
            </button>

            <p id="auth-status" class="status-text"></p>
          </form>

          <!-- REGISTER FORM -->
          <form id="register-form" class="auth-form hidden">
            <!-- Name -->
            <label for="register-name">
              Name
              <input
                id="register-name"
                type="text"
                autocomplete="name"
                placeholder="Your name"
                required
              />
            </label>

            <!-- Email -->
            <label for="register-email">
              Email
              <input
                id="register-email"
                type="email"
                autocomplete="email"
                placeholder="you@example.com"
                required
              />
            </label>

            <!-- Password -->
            <label for="register-password">
              Password
              <input
                id="register-password"
                type="password"
                autocomplete="new-password"
                placeholder="Minimum 6 characters"
                required
              />
            </label>

            <!-- Security Question -->
            <label for="register-security-question">
              Security Question
              <select id="register-security-question" required>
                <option value="" disabled selected>Select a question</option>
                <option value="What is your favorite color?">
                  What is your favorite color?
                </option>
                <option value="What city were you born in?">
                  What city were you born in?
                </option>
                <option value="What is your favorite movie?">
                  What is your favorite movie?
                </option>
                <option value="What was the name of your first pet?">
                  What was the name of your first pet?
                </option>
              </select>
            </label>

            <!-- Security Answer -->
            <label for="register-security-answer">
              Security Answer
              <input
                id="register-security-answer"
                type="text"
                placeholder="Answer (not case sensitive)"
                required
              />
            </label>

            <!-- Admin checkbox -->
            <label class="checkbox-row">
              <input type="checkbox" id="register-is-admin" />
              <span>I will be an admin (create an organization)</span>
            </label>

            <!-- Admin org fields (shown only if checkbox is checked) -->
            <div
              id="register-org-token-row"
              class="admin-org-fields hidden"
              style="margin-top: 8px;"
            >
              <label for="register-org-name">
                Organization Name
                <input
                  id="register-org-name"
                  type="text"
                  placeholder="e.g. Apex Studio"
                />
              </label>

              <label for="register-org-token">
                Organization 6-digit token
                <input
                  id="register-org-token"
                  type="text"
                  maxlength="6"
                  pattern="\d{6}"
                  inputmode="numeric"
                  placeholder="e.g. 123456"
                />
              </label>

              <p class="status-text">
                Share this token with participants so they can join your workspace.
              </p>
            </div>

            <button
              type="submit"
              class="btn primary full-width"
              style="margin-top: 10px;"
            >
              Create account
            </button>
          </form>
        </section>

        <!-- ================= APP PANEL ================= -->
        <section id="app-panel" class="app-panel hidden">
          <!-- Sidebar -->
          <aside class="sidebar card">
            <div class="sidebar-section">
              <h2>Projects</h2>
              <ul id="project-list" class="project-list"></ul>
              <button id="btn-new-project" class="btn secondary full-width">
                + New project
              </button>
            </div>

            <div class="sidebar-section">
              <h2>Activity</h2>
              <ul id="activity-list" class="activity-list"></ul>
            </div>
          </aside>

          <!-- Main board area -->
          <section class="board-area">
            <!-- TOP TABS -->
            <nav class="suite-tabs card">
              <button class="suite-tab active" data-view="suite">XYMZ.Suite</button>
              <button class="suite-tab" data-view="ops">XYMZ.Ops</button>
              <button class="suite-tab" data-view="bi">XYMZ.BI</button>
              <button class="suite-tab" data-view="fleet">XYMZ.Fleet</button>
              <button class="suite-tab" data-view="radar">XYMZ.Radar</button>
            </nav>            

            <!-- =============== XYMZ.Fleet (Roster / Roles) =============== -->
            <section id="fleet-view" class="fleet-view card hidden">
              <div class="fleet-header">
                <h2>XYMZ.Fleet - Teams & Coverage</h2>
                <p class="muted">
                  See everyone in your workspace, how busy they are, and where
                  your capacity is concentrated across projects.
                </p>
              </div>

              <div class="fleet-layout">
                <!-- Left: list of members -->
                <div class="fleet-roster">
                  <h3 class="fleet-section-title">Roster</h3>
                  <p class="status-text">
                    Select an organization on the left to see members.
                  </p>
                  <ul id="fleet-list" class="fleet-list">
                    <!-- populated by app.js later -->
                  </ul>
                </div>

                <!-- Right: workload & role insights -->
                <div class="fleet-insights">
                  <h3 class="fleet-section-title">Workload & Roles</h3>
                  <div class="fleet-metrics-grid">
                    <div class="fleet-metric-card">
                      <h4>Total Members</h4>
                      <p id="fleet-total-count" class="fleet-metric-value">–</p>
                    </div>
                    <div class="fleet-metric-card">
                      <h4>Active Projects</h4>
                      <p id="fleet-project-count" class="fleet-metric-value">–</p>
                    </div>
                    <div class="fleet-metric-card">
                      <h4>Tasks per Person (avg)</h4>
                      <p id="fleet-tasks-per-person" class="fleet-metric-value">–</p>
                    </div>
                  </div>

                  <div class="fleet-bottom-panel">
                    <h4>Focus</h4>
                    <p class="muted" id="fleet-focus-text">
                      Once hooked to data, this panel will highlight who is
                      overloaded, who is free for new work, and suggested
                      rebalancing moves.
                    </p>
                  </div>
                </div>
              </div>
            </section>

            <!-- =============== XYMZ.Radar (Health / Alerts) =============== -->
            <section id="radar-view" class="radar-view card hidden">
              <div class="radar-header">
                <h2>XYMZ.Radar - Alerts & Monitoring</h2>
                <p class="muted">
                  A quick read on what needs attention: overdue work, at-risk
                  projects, and upcoming deadlines across your workspace.
                </p>
              </div>

              <div class="radar-grid">
                <div class="radar-card">
                  <h3>Overdue Tasks</h3>
                  <p class="status-text">
                    Tasks past their due date across all projects in this org.
                  </p>
                  <ul id="radar-overdue-list" class="radar-list">
                    <!-- populated by app.js later -->
                  </ul>
                </div>

                <div class="radar-card">
                  <h3>At-Risk Projects</h3>
                  <p class="status-text">
                    Projects with lots of in-progress work and near-term deadlines.
                  </p>
                  <ul id="radar-projects-list" class="radar-list">
                    <!-- populated by app.js later -->
                  </ul>
                </div>

                <div class="radar-card">
                  <h3>Upcoming Deadlines</h3>
                  <p class="status-text">
                    Tasks due soon so your team can stay ahead of the curve.
                  </p>
                  <ul id="radar-upcoming-list" class="radar-list">
                    <!-- populated by app.js later -->
                  </ul>
                </div>
              </div>
            </section>

            <!-- =============== XYMZ.Suite (Welcome Page) =============== -->
            <section id="suite-view" class="suite-view card">
              <h2>Welcome to XYMZ.Suite</h2>
              <p class="muted">
                Select an organization and project on the left.
                Then use <strong>XYMZ.Ops</strong> to manage tasks,
                <strong>XYMZ.BI</strong> to see dashboards,
                <strong>XYMZ.Fleet</strong> to understand your team,
                and <strong>XYMZ.Radar</strong> to monitor overall health.
              </p>

              <!-- Suite Footer: About / FAQs / Contact / Social -->
              <div class="suite-footer">
                <div class="suite-footer-inner">
                  <!-- About -->
                  <section class="footer-section footer-about">
                    <details open>
                      <summary>About XYMZ</summary>
                      <p>
                        XYMZ is a modern workspace built in 2025 to give agencies,
                        consultants, and small teams a shared space for both execution
                        and insight.
                      </p>
                      <p>
                        <strong>XYMZ.Ops</strong> powers your day-to-day work:
                        projects, Kanban boards, tasks, comments, and file attachments
                        so everyone stays aligned on what’s happening now.
                      </p>
                      <p>
                        <strong>XYMZ.BI</strong> turns that operational data into
                        simple, visual insights: project health, workload balance, and
                        upcoming deadlines, all in one place.
                      </p>
                    </details>
                  </section>

                  <!-- FAQs -->
                  <section class="footer-section footer-faqs">
                    <details>
                      <summary>FAQs</summary>
                      <div class="footer-faq-list">
                        <div class="faq-item">
                          <h4>What is XYMZ.Suite?</h4>
                          <p>
                            XYMZ.Suite is the umbrella experience that combines
                            <strong>XYMZ.Ops</strong> (operations &amp; task
                            management) and <strong>XYMZ.BI</strong> (business
                            intelligence &amp; insights) in a single shared workspace.
                          </p>
                        </div>

                        <div class="faq-item">
                          <h4>What can I do in XYMZ.Ops?</h4>
                          <p>
                            XYMZ.Ops lets you create organizations, projects, and
                            columns, then add tasks with priorities, due dates,
                            assignees, comments, and attachments. You can drag-and-drop
                            tasks between columns to keep your pipeline up to date.
                          </p>
                        </div>

                        <div class="faq-item">
                          <h4>What does XYMZ.BI show me?</h4>
                          <p>
                            XYMZ.BI aggregates tasks across your projects and
                            visualizes them in stacked charts so you can quickly see
                            how many tasks are in progress, in review, or completed.
                            You can click into a project to drill down into task
                            deadlines and remaining days.
                          </p>
                        </div>

                        <div class="faq-item">
                          <h4>Where is my data stored?</h4>
                          <p>
                            In this implementation, your data is stored on the XYMZ
                            backend using a local database on your server. The web app
                            talks directly to your own API (e.g.,
                            <code>http://localhost:5500</code>) and is not sending your
                            workspace data to third-party SaaS services by default.
                          </p>
                        </div>

                        <div class="faq-item">
                          <h4>Who is XYMZ designed for?</h4>
                          <p>
                            XYMZ is designed for small teams, agencies, and solo
                            operators who want a simple but powerful way to manage
                            client work, internal operations, and light-weight reporting
                            without a heavy, enterprise tool.
                          </p>
                        </div>
                      </div>
                    </details>
                  </section>

                  <!-- Contact -->
                  <section class="footer-section footer-contact">
                    <h3>Contact</h3>
                    <p>
                      Email:
                      <a href="mailto:xymz86@gmail.com">xymz86@gmail.com</a>
                    </p>
                  </section>

                  <!-- Social -->
                  <section class="footer-section footer-social">
                    <h3>Social</h3>
                    <div class="social-row">
                      <!-- Instagram with actual icon -->
                      <a
                        href="https://www.instagram.com/xymz.86"
                        class="social-icon social-instagram"
                        aria-label="Instagram"
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        <span class="sr-only">Instagram</span>
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                          <rect
                            x="3"
                            y="3"
                            width="18"
                            height="18"
                            rx="5"
                            ry="5"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          />
                          <circle
                            cx="12"
                            cy="12"
                            r="4"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          />
                          <circle cx="18" cy="6" r="1.3" fill="currentColor" />
                        </svg>
                      </a>

                      <a
                        href="https://x.com/xymz86"
                        class="social-icon social-twitter"
                        aria-label="Twitter"
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        <span>X</span>
                      </a>
                      <a
                        href="https://www.linkedin.com/in/xymzsuite"
                        class="social-icon social-linkedin"
                        aria-label="LinkedIn"
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        <span>in</span>
                      </a>
                      <a
                        href="https://www.facebook.com/profile.php?id=61584446592572"
                        class="social-icon social-facebook"
                        aria-label="Facebook"
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        <span>f</span>
                      </a>
                    </div>
                  </section>
                </div>
              </div>
            </section>

            <!-- =============== XYMZ.Ops (Kanban Board) =============== -->
            <section id="ops-view" class="hidden">
              <div class="board-header card">
                <div>
                  <h2 id="board-project-name">Select a project</h2>
                  <p id="board-project-desc" class="muted"></p>
                </div>

                <div class="board-actions">
                  <button id="btn-add-column" class="btn secondary small">
                    + Column
                  </button>
                  <button id="btn-add-task" class="btn primary small">
                    + Task
                  </button>
                  <button
                    id="btn-delete-project"
                    class="btn secondary small danger"
                  >
                    Delete Project
                  </button>
                </div>
              </div>

              <div id="board" class="board card">
                <!-- Kanban columns injected by app.js -->
              </div>

              <!-- ============ Task Detail Panel ============ -->
              <div id="task-detail-panel" class="task-detail card hidden">
                <button
                  id="btn-close-detail"
                  class="btn secondary small close-btn"
                >
                  ×
                </button>
                <h3 id="detail-title">Task details</h3>
                <p id="detail-meta" class="muted"></p>

                <p id="detail-description"></p>

                <!-- Quick edit fields -->
                <h4>Quick edit</h4>
                <form id="detail-form">
                  <label>Title <input id="detail-input-title" type="text" /></label>
                  <label>
                    Description
                    <textarea id="detail-input-desc" rows="3"></textarea>
                  </label>
                  <label>
                    Priority
                    <select id="detail-input-priority">
                      <option value="low">Low</option>
                      <option value="medium">Medium</option>
                      <option value="high">High</option>
                    </select>
                  </label>
                  <label>Due date <input id="detail-input-due" type="date" /></label>
                  <label>
                    Assigned to
                    <select id="detail-input-assignee"></select>
                  </label>
                </form>

                <!-- Save button -->
                <button
                  id="detail-save-btn"
                  class="btn primary full-width"
                  style="margin-top: 6px;"
                >
                  Save Task Details
                </button>

                <span id="detail-status" class="status-text"></span>

                <!-- Comments -->
                <h4 style="margin-top: 12px;">Comments</h4>
                <ul id="detail-comments" class="comments-list"></ul>

                <form id="detail-comment-form" class="comment-form">
                  <textarea
                    id="detail-comment-body"
                    rows="2"
                    placeholder="Add a comment..."
                  ></textarea>
                  <button type="submit" class="btn secondary small">
                    Comment
                  </button>
                </form>

                <!-- Attachments -->
                <h4 style="margin-top: 12px;">Attachments</h4>
                <ul id="detail-attachments" class="attachments-list"></ul>

                <form
                  id="detail-attachment-form"
                  class="attachment-form"
                  enctype="multipart/form-data"
                >
                  <input
                    type="file"
                    id="detail-attachment-file"
                    class="attachment-input"
                  />
                  <button type="submit" class="btn secondary small">
                    Upload
                  </button>
                </form>
                <span
                  id="detail-attachment-status"
                  class="status-text"
                  style="margin-top: 4px;"
                ></span>

                <!-- Delete Task Button -->
                <button
                  id="detail-delete-task"
                  class="btn secondary small danger"
                  style="margin-top: 10px;"
                >
                  Delete Task
                </button>
              </div>
            </section>

            <!-- =============== XYMZ.BI (Dashboard) =============== -->
            <section id="bi-view" class="bi-view card hidden">
              <div class="bi-header">
                <h2>XYMZ.BI – Project Insights</h2>
                <p class="muted">
                  Visual breakdown of projects, task statuses, and deadlines.
                </p>
              </div>

              <!-- Project Overview Chart -->
              <div style="height: 240px; margin-bottom: 16px;">
                <canvas id="bi-chart"></canvas>
              </div>
              <p id="bi-meta" class="status-text"></p>

              <!-- Task Drilldown Chart -->
              <div id="bi-task-chart-area" class="hidden">
                <h3 id="bi-task-chart-title" style="margin-top: 16px;">
                  Tasks for Project
                </h3>
                <div style="height: 240px; margin-bottom: 16px;">
                  <canvas id="bi-task-chart"></canvas>
                </div>
              </div>
            </section>
          </section>
          <!-- end board-area -->
        </section>
        <!-- end app-panel -->
      </main>
    </div>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Main App Logic -->
    <script src="js/app.js"></script>
  </body>
</html>
