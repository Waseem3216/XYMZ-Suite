<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>XYMZ Suite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Helps browsers render native UI correctly in both modes -->
    <meta name="color-scheme" content="dark light" />

    <!-- Theme color (updated by JS when you toggle theme) -->
    <meta name="theme-color" content="#020617" />

    <!-- ================= FAVICON / TAB ICONS ================= -->
    <link rel="icon" type="image/png" sizes="32x32" href="img/xymz-icon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="img/xymz-icon-16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="img/xymz-icon-180.png" />
    <link rel="shortcut icon" href="img/favicon.ico" />

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body class="theme-suite">
    <div class="app-shell">
      <!-- ================= TOPBAR ================= -->
      <header class="topbar">
        <div class="brand">
          <div class="logo-orb" aria-hidden="true"></div>

          <div class="brand-text">
            <h1 id="brand-title">XYMZ.SUITE</h1>
            <p id="brand-subtitle">SHARED WORKSPACES FOR AGENCIES & CLIENTS.</p>
          </div>
        </div>

        <div class="topbar-right">
          <div id="org-switcher" class="org-switcher hidden">
            <select id="org-select" aria-label="Organization"></select>
            <button id="btn-new-org" class="btn secondary small" type="button">+ Org</button>
          </div>

          <div class="user-chip">
            <span id="user-name"></span>
            <span id="user-email"></span>
          </div>

          <button id="btn-theme" class="btn secondary small" type="button" title="Toggle dark/light">
            Theme
          </button>

          <button id="btn-logout" class="btn secondary small hidden" type="button">
            Log out
          </button>
        </div>
      </header>

      <main class="main-layout">
        <!-- ================= AUTH PANEL ================= -->
        <section id="auth-panel" class="auth-panel card">
          <div class="tabs">
            <button id="tab-login" class="tab active" type="button">Log in</button>
            <button id="tab-register" class="tab" type="button">Sign up</button>
          </div>

          <!-- LOGIN FORM -->
          <form id="login-form" class="auth-form">
            <label for="login-email">
              Email
              <input id="login-email" type="email" autocomplete="email" placeholder="you@example.com" required />
            </label>

            <label for="login-password">
              Password
              <input
                id="login-password"
                type="password"
                autocomplete="current-password"
                placeholder="Enter your password"
                required
              />
            </label>

            <label for="login-org-token">
              Organization 6-digit token (optional)
              <input id="login-org-token" type="text" maxlength="6" inputmode="numeric" placeholder="e.g., 123456" />
            </label>

            <div class="auth-actions-row">
              <button type="button" id="link-reset-password" class="btn small secondary full-width">
                Forgot password?
              </button>
              <button type="button" id="link-reset-token" class="btn small secondary full-width">
                Reset 6-digit token
              </button>
            </div>

            <button type="submit" class="btn primary full-width" style="margin-top: 10px;">Log in</button>

            <p id="auth-status" class="status-text"></p>
          </form>

          <!-- REGISTER FORM -->
          <form id="register-form" class="auth-form hidden">
            <label for="register-name">
              Name
              <input id="register-name" type="text" autocomplete="name" placeholder="Your name" required />
            </label>

            <label for="register-email">
              Email
              <input id="register-email" type="email" autocomplete="email" placeholder="you@example.com" required />
            </label>

            <label for="register-password">
              Password
              <input
                id="register-password"
                type="password"
                autocomplete="new-password"
                placeholder="Minimum 6 characters"
                required
              />
            </label>

            <label for="register-security-question">
              Security Question
              <select id="register-security-question" required>
                <option value="" disabled selected>Select a question</option>
                <option value="What is your favorite color?">What is your favorite color?</option>
                <option value="What city were you born in?">What city were you born in?</option>
                <option value="What is your favorite movie?">What is your favorite movie?</option>
                <option value="What was the name of your first pet?">What was the name of your first pet?</option>
              </select>
            </label>

            <label for="register-security-answer">
              Security Answer
              <input id="register-security-answer" type="text" placeholder="Answer (not case sensitive)" required />
            </label>

            <label class="checkbox-row">
              <input type="checkbox" id="register-is-admin" />
              <span>I will be an admin (create an organization)</span>
            </label>

            <div id="register-org-token-row" class="admin-org-fields hidden" style="margin-top: 8px;">
              <label for="register-org-name">
                Organization Name
                <input id="register-org-name" type="text" placeholder="e.g. ABCD Consulting" />
              </label>

              <label for="register-org-token">
                Organization 6-digit token
                <input
                  id="register-org-token"
                  type="text"
                  maxlength="6"
                  pattern="\d{6}"
                  inputmode="numeric"
                  placeholder="e.g. 123456"
                />
              </label>

              <p class="status-text">Share this token with participants so they can join your workspace.</p>
            </div>

            <button type="submit" class="btn primary full-width" style="margin-top: 10px;">Create account</button>
          </form>
        </section>

        <!-- ================= APP PANEL ================= -->
        <section id="app-panel" class="app-panel hidden">
          <!-- Sidebar -->
          <aside class="sidebar card">
            <div class="sidebar-section">
              <h2>Projects</h2>
              <ul id="project-list" class="project-list"></ul>
              <button id="btn-new-project" class="btn secondary full-width" type="button">+ New project</button>
            </div>

            <div class="sidebar-section">
              <h2>Activity</h2>
              <ul id="activity-list" class="activity-list"></ul>
            </div>
          </aside>

          <!-- Main board area -->
          <section class="board-area">
            <nav class="suite-tabs card" aria-label="XYMZ module navigation">
              <button class="suite-tab active" data-view="suite" type="button">XYMZ.SUITE</button>
              <button class="suite-tab" data-view="ops" type="button">XYMZ.OPS</button>
              <button class="suite-tab" data-view="bi" type="button">XYMZ.BI</button>
              <button class="suite-tab" data-view="fleet" type="button">XYMZ.FLEET</button>
              <button class="suite-tab" data-view="radar" type="button">XYMZ.RADAR</button>
            </nav>

            <!-- =============== XYMZ.Suite =============== -->
            <section id="suite-view" class="suite-view card">
              <div class="suite-home-head">
                <h2 class="suite-home-title">WELCOME TO XYMZ.SUITE</h2>
                <p class="muted suite-home-sub">
                  Select an organization and project on the left. Then use <strong>XYMZ.Ops</strong> to manage tasks,
                  <strong>XYMZ.BI</strong> to see dashboards, <strong>XYMZ.Fleet</strong> to understand your team, and
                  <strong>XYMZ.Radar</strong> to monitor overall health.
                </p>
              </div>

              <div class="suite-home-divider"></div>

              <div class="suite-home-grid">
                <section class="suite-home-card">
                  <h3 class="suite-home-h">ABOUT XYMZ</h3>
                  <p class="muted">
                    XYMZ is a modern workspace built in 2025 for agencies, consultants, and small teams who need one
                    shared place for execution and insight.
                  </p>
                  <p class="muted">
                    <strong>XYMZ.Ops</strong> powers the day-to-day work: projects, Kanban boards, tasks, comments, and file
                    attachments so everyone stays aligned on what’s happening now.
                  </p>
                  <p class="muted">
                    <strong>XYMZ.BI</strong> turns operational data into visual insights: project health, workload balance,
                    and upcoming deadlines — all in one place.
                  </p>
                </section>

                <section class="suite-home-card">
                  <h3 class="suite-home-h">FAQS</h3>

                  <div class="faq-block">
                    <h4>How do I get started?</h4>
                    <p class="muted">
                      After logging in, use the organization dropdown in the top-right to choose your workspace. Then
                      pick a project from the left sidebar (or create a new one).
                    </p>
                  </div>

                  <div class="faq-block">
                    <h4>How do I create an organization?</h4>
                    <p class="muted">
                      Click <strong>+ Org</strong> in the top bar, enter a name, and XYMZ will generate a 6-digit token.
                      Share that token with teammates so they can join.
                    </p>
                  </div>

                  <div class="faq-block">
                    <h4>How do I create a project?</h4>
                    <p class="muted">
                      In the left sidebar under <strong>Projects</strong>, click <strong>+ New project</strong>. Then
                      click the project name to select it.
                    </p>
                  </div>

                  <div class="faq-block">
                    <h4>How do I use XYMZ.Ops (Kanban)?</h4>
                    <p class="muted">
                      Go to <strong>XYMZ.OPS</strong>. Add columns with <strong>+ Column</strong>, add tasks with
                      <strong>+ Task</strong>, then drag tasks between columns to update progress. Click any task to open
                      the detail panel for editing, comments, and attachments.
                    </p>
                  </div>

                  <div class="faq-block">
                    <h4>How do I use XYMZ.BI?</h4>
                    <p class="muted">
                      Go to <strong>XYMZ.BI</strong> to see charts across projects. You can click a project bar to drill
                      into that project's tasks. Use <strong>Download PDF</strong> or <strong>Download SVG</strong> when
                      enabled to export reports.
                    </p>
                  </div>

                  <div class="faq-block">
                    <h4>What is Fleet and Radar?</h4>
                    <p class="muted">
                      <strong>Fleet</strong> shows team workload and coverage. <strong>Radar</strong> highlights overdue
                      tasks, at-risk projects, and upcoming deadlines — click items to jump back into Ops.
                    </p>
                  </div>
                </section>

                <section class="suite-home-card">
                  <h3 class="suite-home-h">CONTACT</h3>
                  <p class="muted">
                    Email:<br />
                    <a class="link" href="mailto:xymz86@gmail.com">xymz86@gmail.com</a>
                  </p>
                </section>

                <section class="suite-home-card">
                  <h3 class="suite-home-h">SOCIAL</h3>
                  <div class="social-row" aria-label="Social links">
                    <a class="social-icon social-instagram" href="https://www.instagram.com/xymz.86" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                      <span class="sr-only">Instagram</span>
                      <svg viewBox="0 0 24 24" aria-hidden="true">
                        <rect x="3" y="3" width="18" height="18" rx="5" ry="5" fill="none" stroke="currentColor" stroke-width="2" />
                        <circle cx="12" cy="12" r="4" fill="none" stroke="currentColor" stroke-width="2" />
                        <circle cx="18" cy="6" r="1.3" fill="currentColor" />
                      </svg>
                    </a>

                    <a class="social-icon social-twitter" href="https://x.com/xymz86" target="_blank" rel="noopener noreferrer" aria-label="X">
                      <span>X</span>
                    </a>

                    <a class="social-icon social-linkedin" href="https://www.linkedin.com/in/xymzsuite" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                      <span>in</span>
                    </a>

                    <a class="social-icon social-facebook" href="https://www.facebook.com/profile.php?id=61584446592572" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
                      <span>f</span>
                    </a>
                  </div>
                </section>
              </div>
            </section>

            <!-- =============== XYMZ.Ops =============== -->
            <section id="ops-view" class="hidden">
              <div class="board-header card">
                <div>
                  <h2 id="board-project-name">Select a project</h2>
                  <p id="board-project-desc" class="muted"></p>
                </div>

                <div class="board-actions">
                  <button id="btn-add-column" class="btn secondary small" type="button">+ Column</button>
                  <button id="btn-add-task" class="btn primary small" type="button">+ Task</button>
                  <button id="btn-delete-project" class="btn secondary small danger" type="button">Delete Project</button>
                </div>
              </div>

              <div id="board" class="board card"></div>

              <div id="task-detail-panel" class="task-detail card hidden">
                <button id="btn-close-detail" class="btn secondary small close-btn" type="button">×</button>
                <h3 id="detail-title">Task details</h3>
                <p id="detail-meta" class="muted"></p>

                <p id="detail-description"></p>

                <h4>Quick edit</h4>
                <form id="detail-form">
                  <label>Title <input id="detail-input-title" type="text" /></label>
                  <label>
                    Description
                    <textarea id="detail-input-desc" rows="3"></textarea>
                  </label>
                  <label>
                    Priority
                    <select id="detail-input-priority">
                      <option value="low">Low</option>
                      <option value="medium">Medium</option>
                      <option value="high">High</option>
                    </select>
                  </label>
                  <label>Due date <input id="detail-input-due" type="date" /></label>
                  <label>
                    Assigned to
                    <select id="detail-input-assignee"></select>
                  </label>
                </form>

                <button id="detail-save-btn" class="btn primary full-width" style="margin-top: 6px;" type="button">
                  Save Task Details
                </button>

                <span id="detail-status" class="status-text"></span>

                <h4 style="margin-top: 12px;">Comments</h4>
                <ul id="detail-comments" class="comments-list"></ul>

                <form id="detail-comment-form" class="comment-form">
                  <textarea id="detail-comment-body" rows="2" placeholder="Add a comment..."></textarea>
                  <button type="submit" class="btn secondary small">Comment</button>
                </form>

                <h4 style="margin-top: 12px;">Attachments</h4>
                <ul id="detail-attachments" class="attachments-list"></ul>

                <form id="detail-attachment-form" class="attachment-form" enctype="multipart/form-data">
                  <input type="file" id="detail-attachment-file" class="attachment-input" />
                  <button type="submit" class="btn secondary small">Upload</button>
                </form>
                <span id="detail-attachment-status" class="status-text" style="margin-top: 4px;"></span>

                <button id="detail-delete-task" class="btn secondary small danger" style="margin-top: 10px;" type="button">
                  Delete Task
                </button>
              </div>
            </section>

            <!-- =============== XYMZ.BI =============== -->
            <section id="bi-view" class="bi-view card hidden">
              <div class="bi-header">
                <div>
                  <h2>XYMZ.BI – Project Insights</h2>
                  <p class="muted">Visual breakdown of projects, task statuses, and deadlines.</p>
                </div>

                <div class="bi-toolbar">
                  <button id="btn-bi-download-pdf" class="btn secondary small" type="button" disabled>Download PDF</button>
                  <button id="btn-bi-download-svg" class="btn secondary small" type="button" disabled>Download SVG</button>
                </div>
              </div>

              <div class="chart-wrap">
                <canvas id="bi-chart"></canvas>
              </div>
              <p id="bi-meta" class="status-text"></p>

              <div id="bi-task-chart-area" class="hidden">
                <h3 id="bi-task-chart-title" style="margin-top: 16px;">Tasks for Project</h3>
                <div class="chart-wrap">
                  <canvas id="bi-task-chart"></canvas>
                </div>
              </div>
            </section>

            <!-- =============== XYMZ.Fleet =============== -->
            <section id="fleet-view" class="fleet-view card hidden">
              <div class="fleet-header">
                <h2>XYMZ.Fleet - Teams & Coverage</h2>
                <p class="muted">See everyone in your workspace, how busy they are, and where your capacity is concentrated.</p>
              </div>

              <div class="fleet-layout">
                <div class="fleet-roster">
                  <h3 class="fleet-section-title">Roster</h3>
                  <p class="status-text">Select an organization to see members.</p>
                  <ul id="fleet-list" class="fleet-list"></ul>
                </div>

                <div class="fleet-insights">
                  <h3 class="fleet-section-title">Workload & Roles</h3>
                  <div class="fleet-metrics-grid">
                    <div class="fleet-metric-card">
                      <h4>Total Members</h4>
                      <p id="fleet-total-count" class="fleet-metric-value">–</p>
                    </div>
                    <div class="fleet-metric-card">
                      <h4>Active Projects</h4>
                      <p id="fleet-project-count" class="fleet-metric-value">–</p>
                    </div>
                    <div class="fleet-metric-card">
                      <h4>Tasks per Person (avg)</h4>
                      <p id="fleet-tasks-per-person" class="fleet-metric-value">–</p>
                    </div>
                  </div>

                  <div class="fleet-bottom-panel">
                    <h4>Focus</h4>
                    <p class="muted" id="fleet-focus-text">Fleet highlights workload distribution once tasks exist.</p>
                  </div>
                </div>
              </div>
            </section>

            <!-- =============== XYMZ.Radar =============== -->
            <section id="radar-view" class="radar-view card hidden">
              <div class="radar-header">
                <h2>XYMZ.Radar - Alerts & Monitoring</h2>
                <p class="muted">Overdue tasks, at-risk projects, and upcoming deadlines across your workspace.</p>
              </div>

              <div class="radar-grid">
                <div class="radar-card">
                  <h3>Overdue Tasks</h3>
                  <p class="status-text">Click an item to jump to Ops.</p>
                  <ul id="radar-overdue-list" class="radar-list"></ul>
                </div>

                <div class="radar-card">
                  <h3>At-Risk Projects</h3>
                  <p class="status-text">High WIP + near deadlines.</p>
                  <ul id="radar-projects-list" class="radar-list"></ul>
                </div>

                <div class="radar-card">
                  <h3>Upcoming Deadlines</h3>
                  <p class="status-text">Due soon so the team stays ahead.</p>
                  <ul id="radar-upcoming-list" class="radar-list"></ul>
                </div>
              </div>
            </section>
          </section>
        </section>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
